# Iteration 2 worksheet:

### Paying off technical debts from Iteration 1:<br>
##### GUI BUGS : 
The GUI was  not working properly for some destinations in iteration 1. Though most of<br>the GUI was functional, certain destinations like the browse fragment, contained bugs. Also <br>since we had to deliver iteration 1 on time, some of the GUI which did not serve the main user <br>functionality was intentionally not implemented. This type of technical could be classified as <br>prudent deliberate. We took care of this debt in iteration 2 by taking the time to fix the <br>issues. Since we knew about the problem, and collectively decided not to fix it for iteration 1,<br> this would be a case of prudent, deliberate technical debt. <br>
These GUI bugs are fixed in the following commit:[GUI BUGS FIXES](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/commit/98c3c681ab56d14402ba71ca600686c960c816ee#2d28bd1352843bab11bb279036a731afa5774d55)<br>
##### EXECEPTIONS:
The exception handling was catching any type of exception before and it will return null when an exception actually occurs to easily check the return value for testing. It will also print a statement that just apply for a Null exception, but it doesn't actually handle that specific exception. This happened because we did not plan out our <br>development for the app, and did not code with test driven design and also exceptional code in mind. In the end, due to <br>time constraints, we quickly rushed to cover all of the tests we could think of near the due <br>date of  the iteration. We handled the exceptions better in iteration 2. Since we first had no idea <br>about how to test exceptional code correctly, but learned about it after catching up with the lectures after handing <br>in our iteration, this was a case of prudent, inadvertent technical debt.<br>
We fixed the Exception test in the following commit:[Exception Test Fixed](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/blob/9b9a52420da77df70cc92bb39bd5e03ddb8dd7ac/app/src/test/java/com/example/myapplication/Logic/ExceptionsIT.java)
<br>

### SOLID violation: 
There is a Single Responsibility Principle violation in the Logout.java class, the Logout.java class<br> should focus on logging the user out, however it also ensures the user is logged in and at <br>the end also opens a login page.The functionality to open a login page and check if the user is <br>logged in does not correlate with the methods used to log the user out and therefore should be <br>kept in some other appropriate class, such as a class responsible for Log-in functions.<br><br>
[SOLID Violation issue in Group 2 A03](https://code.cs.umanitoba.ca/3350-winter-2021-a03/3350-winter-2021-A03_Group2/-/issues/81)<br>
### Retrospective: 
One thing our group did not take advantage of was using the full advantages of Git. <br>One of the most advantageous features we missed out on was assigning Developers Tasks to each of<br> our group members. Due to us not doing this we found that some of us did the same thing as <br>the other and that we had no clear plan on how to do our project effectively. What we made sure<br> to do this iteration is that we made our developer tasks at the very beginning and assigned<br> them to people. Doing this helped us be more organized and get our work done faster <br>than before.

### Design Pattern:
A well known design pattern that we have used is the Chain of Responsibility. To handle our main <br>implementation of providing a bunch of store options that match with the user’s grocery list, we <br>first get the grocery list that the user input. Then, we pass this grocery list to the search <br>algorithm class where it handles the searching and checking of availability of the grocery <br>list’s items in the available stores. After it is done searching, the set of store options will <br>then be passed to the presentation layer for the user to see. <br>
[User add items to grocery list](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/blob/6031e5a33b65071dce3b3a1ce12b206c5e5692ce/app/src/main/java/com/example/myapplication/NewUI/MainActivityStartScreen/BottomNavBarFragments/LeftButton_Browse/GroceryItemsList/BrowseGroceryListItemsFragment.java)<br>
[Passing the user’s grocery list that we need to search for](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/blob/6031e5a33b65071dce3b3a1ce12b206c5e5692ce/app/src/main/java/com/example/myapplication/NewUI/MainActivityStartScreen/BottomNavBarFragments/MiddleButton_Cart/CartFragment.java)<br>
[Search for the grocery list’s items in stores](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/blob/6031e5a33b65071dce3b3a1ce12b206c5e5692ce/app/src/main/java/com/example/myapplication/NewLogic/AlgorithmForBestStores/searchAlgorithm.java)<br>
[Get the result, and pass the search result to the user](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/blob/6031e5a33b65071dce3b3a1ce12b206c5e5692ce/app/src/main/java/com/example/myapplication/NewUI/MainActivityStartScreen/BottomNavBarFragments/MiddleButton_Cart/StoreList/BestStores.java)<br>
### Iteration 1 Feedback fixed:<br>
[Issue opened by the grader ](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/issues/30)<br>
There were some GUI bugs and some functional bugs in the issue raised by the grader.The GUI bug <br>mostly related to the the layout getting disorganized while adding a store,while functional bugs <br>included the addition of ‘0’ items to the grocery list and the crashing of the app when entering <br>huge numbers.
There were some issues related to the Store page such as the value for the review shows<br> NaN instead of 0.0 by default, and value of price and review are not in format i.e. price should be in 2 <br>decimal places. These were flagged because as a user, a NaN value would look confusing and if <br>the price and review are not in format, they can be in a really long decimal number, in which it’s impossible<br> to happen realistically (i.e., how would a user buy an item for $13.12324435546325?)<br>. The NaN value happens because we were dividing by 0 to get the average review when there’s <br>actually no store in our search result, thus we only divide by the number of stores when there’s <br>at least 1 store in our search result to fix this issue, and the default value of average review <br>will be 0. To make the price and review in 2 decimal places, we have created a private helper <br>method that will convert a number in 2 decimal places, then we use this method in places that <br>are responsible to compute the values of the price and review.<br>
The links to commits for these fixes :<br>
[Fixed Review to show 0 by default](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/commit/c204dc9d960b7935aa8777209c726cf1e201d8e8)<br>
[Fixed Price and Review number format](https://code.cs.umanitoba.ca/3350-winter-2021-a02/group-2/my-group-pal/-/commit/f2f0da1062bbcedfc2cd1931e6eb97aa243246cc)